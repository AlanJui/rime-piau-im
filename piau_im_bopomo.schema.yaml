# Rime schema
# encoding: utf-8

schema:
  schema_id: piau_im_bopomo
  name: 方音標音
  version: '0.1'
  author:
    - Alan Jui <AlanJui.1960@gmail.com>
  description: |
    輸入河洛話注音符號
    
    鍵盤對應：
      ㄅ ㄉ ３ ２ ７ ５ ． ㄚ ㄞ ㄢ ｎ
      ㄆ ㄊ ㄍ ㄐ ㆣ ㄗ ㄧ ㆦ ㆤ ㄣ
      ㄇ ㄋ ㄎ ㄑ ㄫ ㄘ ㄨ ㄜ ㄠ ㄤ
      ㆠ ㄌ ㄏ ㄒ Ｊ ㄙ ㆬ ㆰ ㆲ ㆭ


switches:
  - name: ascii_mode
    reset: 0
    states: [ 漢文, ABC ]
  - name: full_shape
    reset: 0
    states: [ 半形, 全形 ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    # - fluency_editor
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - r10n_translator
  filters:
    - uniquifier

speller:
  alphabet: '1qaz2wsxedcrfvtgbyhnujm8ik,9ol.0p;/- 43657'
  delimiter: " '"
  algebra: []

translator:
  dictionary: piau_im_bopomo
  prism: piau_im_bopomo
  spelling_hints: 10
  enable_user_dict: false

punctuator:
  import_preset: default

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    reverse_lookup: "`[a-z]*'?$"
    email: ^[a-z][-_.0-9a-z]*@.*$
    uppercase: ^[A-Z][-_+.'0-9A-Za-z]*$
    url: ^(www[.]|https?:|ftp:|mailto:).*$

# translator:
#   dictionary: piau_im_bopomo
#   prism: piau_im_bopomo
#   spelling_hints: 3
#   enable_user_dict: false
#   comment_format:
#     - xform/^/\t→ /
#     - xform/'/ /
#     - xlit|pPbtTdkKgcCzshiuaoøeIUBDGN|ㄅㄆㆠㄉㄊㄌㄍㄎㆣㄗㄘㆡㄙㄏㄧㄨㄚㆦㄜㆤㄞㄠㆬㄣㆭｎ|
#     # 方音符號會分 ㆢㄐㄑㄒ 和 ㆡㄗㄘㄙ
#     - xform/ㄗ((ｎ)?ㄧ)/ㄐ$1/
#     - xform/ㄘ((ｎ)?ㄧ)/ㄑ$1/
#     - xform/ㆡ((ｎ)?ㄧ)/ㆢ$1/
#     - xform/ㄙ((ｎ)?ㄧ)/ㄒ$1/
#     # 方音符號會分 ㄇㄋㄫ 和 ㆠㄌㆣ
#     - xform/ㆠｎ/ㄇ/
#     - xform/ㄌｎ/ㄋ/
#     - xform/ㆣｎ/ㄫ/
#     - xform/ㆠㆭ/ㄇㆭ/
#     - xform/ㄌㆭ/ㄋㆭ/
#     # 入聲調
#     - xform/(?<=ㄧ|ㄚ|ㆦ)ㆬ([48])/ㆴ$1/
#     - xform/(?<=ㄧ|ㄨ|ㄚ)ㄣ([48])/ㆵ$1/
#     - xform/(?<=ㄚ|ㆦ|ㄜ)ㆭ([48])/ㆻ$1/
#     - xform/(?<!ㆴ|ㆵ|ㆻ)([48])/ㆷ$1/
#     # 鼻音
#     - xform/ｎ((ㄧ|ㄨ)?(ㄧ|ㄨ|ㄚ|ㆦ|ㆤ|ㄞ|ㄠ))/$1ｎ/
#     - xform/ㄧｎ/ㆪ/
#     - xform/ㄨｎ/ㆫ/
#     - xform/ㄚｎ/ㆩ/
#     - xform/ㆦｎ/ㆧ/
#     - xform/ㆤｎ/ㆥ/
#     - xform/ㄞｎ/ㆮ/
#     - xform/ㄠｎ/ㆯ/
#     # 韻母
#     - xform/ㄚㆬ/ㆰ/
#     - xform/ㆦㆬ/ㆱ/
#     - xform/ㄚㄣ/ㄢ/
#     - xform/ㄚㆭ/ㄤ/
#     - xform/ㆦㆭ/ㆲ/
#     - xform/ㄜㆭ/ㄥ/
#     # 聲調
#     - xlit|12357|ˉˋ˪ˊ˫|
#     - xform/4//
#     - xform/8/˙/
#   preedit_format:
#     - xform/ /ˉ/
#     - xform/'/ /
#     - xlit|1qaz2wsxedcrfvtgbyhnujm8ik,9ol.0p;/-43657|ㄅㄆㄇㆠㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㆣㄫㆡㄗㄘㄙㄧㄨㆬㄚㆦㄜㆰㄞㆤㄠㆲㄢㄣㄤㆭｎˋ˪ˊ˫．|
#     # 拆韻母
#     - xform/ㆰ/ㄚㆬ/
#     - xform/ㄢ/ㄚㄣ/
#     - xform/ㄤ/ㄚㆭ/
#     - xform/ㆲ/ㆦㆭ/
#     - xform/ㄨㆭ/ㆦㆭ/
#     - xform/ㆬㆭ/ㄧㆦㆭ/
#     - xform/ㄧㆭ/ㄧㄜㆭ/
#     # 咱共 ㆢ 和 ㆡ 合併
#     - xform/ㆡㄧ/ㆢㄧ/
#     # 鼻音
#     - xform/ㄧ(ㄧ|ｎ)/ㆪ/
#     - xform/ㄨ(ㄨ|ｎ)/ㆫ/
#     - xform/ㄚ(ㄚ|ｎ)/ㆩ/
#     - xform/ㆦ(ㆦ|ｎ)/ㆧ/
#     - xform/ㆤ(ㆤ|ｎ)/ㆥ/
#     - xform/ㄞ(ㄞ|ｎ)/ㆮ/
#     - xform/ㄠ(ㄠ|ｎ)/ㆯ/
#     # 入聲調
#     - xform/(ㄧ|ㄚ|ㆦ)(ㄅ|ㆬ)．/$1ㆴ/
#     - xform/(ㄧ|ㄨ|ㄚ|ㆤ)(ㄉ|ㄣ)．/$1ㆵ/
#     - xform/(ㄚ|ㆦ|ㄜ)(ㄍ|ㆭ)．/$1ㆻ/
#     - xform/(ㄧ|ㄨ|ㄚ|ㆦ|ㄜ|ㆤ|ㄞ|ㄠ|ㆬ|ㆭ)．/$1ㆷ/
#     # 合韻母
#     - xform/ㄚㆬ/ㆰ/
#     - xform/ㆦㆬ/ㆱ/
#     - xform/ㄚㄣ/ㄢ/
#     - xform/ㄚㆭ/ㄤ/
#     - xform/ㆦㆭ/ㆲ/
#     - xform/ㄜ
